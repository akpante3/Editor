<!doctype html>
<html>
    <head>
        <title>Frontend Playground</title>
        <link rel="stylesheet" type="text/css" href="codemirror-5.51.0/lib/codemirror.css">
        <link rel="stylesheet" type="text/css" href="codemirror-5.51.0/theme/darcula.css">
        <link rel="stylesheet" type="text/css" href="/style.css">
        <script type="text/javascript" src="codemirror-5.51.0/lib/codemirror.js"></script>
        <script src="codemirror-5.51.0/mode/javascript/javascript.js"></script>
        <script type="text/javascript" src="https://cdn.rawgit.com/codemirror/CodeMirror/master/mode/xml/xml.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdn.rawgit.com/carlo/jquery-base64/master/jquery.base64.min.js"></script>
        <script src="SplitterBar.js"></script>
    </head>
    <body>
        <div class="splitter-container">
        <div class="left">
            <div class="splitter-container2">
                <div class="left"></div>
                <div class="right">
                       <textarea id="editor"></textarea>
                </div>
            </div>
        </div>
        <div class="right">
        </div>
    </div>
      <button onclick="submit_html();">Submit</button>
      <iframe id="result"></iframe>
    </body>
    <script>
        $('.splitter-container').SplitterBar();
        $('.splitter-container2').SplitterBar();
        var editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
            value: "function myScript(){return 100;}\n",
            mode:  "javascript",
            theme: 'darcula',
            lineWrapping: true,
            lineNumbers: true,
            autocorrect: true,
        });

        function submit_html()
        {
            editor.save();
            var code = document.getElementById("editor").value;
            var data_url = "data:text/html;charset=utf-8;base64," + $.base64.encode(code);
            document.getElementById("result").src = data_url;
        }
    </script>
</html>